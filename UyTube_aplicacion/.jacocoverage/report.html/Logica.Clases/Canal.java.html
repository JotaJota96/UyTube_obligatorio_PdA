<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Canal.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;UyTube&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">Logica.Clases</a> &gt; <span class="el_source">Canal.java</span></div><h1>Canal.java</h1><pre class="source lang-java linenums">package Logica.Clases;

import Logica.Enumerados.Privacidad;
import Logica.DataType.DtComentario;
import Logica.DataType.DtListaDeReproduccion;
import Logica.DataType.DtValoracion;
import Logica.DataType.DtVideo;
import Logica.DataType.DtCanal;
import Logica.Enumerados.TipoListaDeReproduccion;
import java.util.ArrayList;
import java.util.Map;
import java.util.TreeMap;

public class Canal {

<span class="fc" id="L16">    private static int contadorCanal = 1;</span>
    private int id;
    private String nombre;
    private String descripcion;
    private Privacidad privacidad;
    private Map&lt;Integer, ListaDeReproduccion&gt; misListas;
    private Map&lt;Integer, Video&gt; misVideos;

<span class="fc" id="L24">    public Canal(int id, String nombre, String descripcion, Privacidad privacidad) {</span>
<span class="pc bpc" id="L25" title="1 of 2 branches missed.">        if (nombre.equals(&quot;&quot;)){</span>
<span class="nc" id="L26">            throw new RuntimeException(&quot;El nombre del canal no puede ser vacio&quot;);</span>
        }
        
<span class="fc" id="L29">        this.id = id;</span>
<span class="fc" id="L30">        this.nombre = nombre;</span>
<span class="fc" id="L31">        this.descripcion = descripcion;</span>
<span class="fc" id="L32">        this.privacidad = privacidad;</span>
<span class="fc" id="L33">        this.misListas = new TreeMap();</span>
<span class="fc" id="L34">        this.misVideos = new TreeMap();</span>
        
<span class="fc" id="L36">        ArrayList&lt;String&gt; listas = ListaDeReproduccion.listarNombresDeListasPorDefecto();</span>
<span class="fc bfc" id="L37" title="All 2 branches covered.">        for (String lista : listas) {</span>
<span class="fc" id="L38">            int nuevoID = ListaDeReproduccion.getNuevoId();</span>
<span class="fc" id="L39">            this.misListas.put(nuevoID, new ListaDeReproduccion(nuevoID, lista, Privacidad.PRIVADO, TipoListaDeReproduccion.POR_DEFECTO, &quot;UNDEFINED&quot;));</span>
<span class="fc" id="L40">        }</span>
<span class="fc" id="L41">    }</span>

    public int getId() {
<span class="nc" id="L44">        return id;</span>
    }

    public String getNombre() {
<span class="nc" id="L48">        return nombre;</span>
    }

    public String getDescripcion() {
<span class="nc" id="L52">        return descripcion;</span>
    }

    public Privacidad getPrivacidad() {
<span class="nc" id="L56">        return privacidad;</span>
    }

    public void setId(int id) {
<span class="nc" id="L60">        this.id = id;</span>
<span class="nc" id="L61">    }</span>

    public void setNombre(String nombre) {
<span class="nc bnc" id="L64" title="All 2 branches missed.">         if (nombre.equals(&quot;&quot;)) {</span>
<span class="nc" id="L65">            throw new RuntimeException(&quot;El nombre del canal no puede ser vacio&quot;);</span>
        }
<span class="nc" id="L67">        this.nombre = nombre;</span>
<span class="nc" id="L68">    }</span>

    public void setDescripcion(String descripcion) {
<span class="nc" id="L71">        this.descripcion = descripcion;</span>
<span class="nc" id="L72">    }</span>

    public void setPrivacidad(Privacidad privacidad) {
        // Si el canal es publico y se va a cambiar a privado, se deben cambiar a privado todos los videos del canal
<span class="nc bnc" id="L76" title="All 2 branches missed.">        if (privacidad == Privacidad.PRIVADO){</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">            for (Map.Entry&lt;Integer, Video&gt; m : misVideos.entrySet()) {</span>
<span class="nc" id="L78">                m.getValue().setPrivacidad(Privacidad.PRIVADO);</span>
<span class="nc" id="L79">            }</span>
        }
<span class="nc" id="L81">        this.privacidad = privacidad;</span>
<span class="nc" id="L82">    }</span>

    public static int getNuevoId() {
<span class="fc" id="L85">        return contadorCanal++;</span>
    }

    //-----------------------------------------------------------------------------
    public void actualizarListasPorDefecto() {
<span class="nc" id="L90">        ArrayList&lt;String&gt; listas = ListaDeReproduccion.listarNombresDeListasPorDefecto();</span>
        
<span class="nc bnc" id="L92" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; l : misListas.entrySet()) {</span>
<span class="nc bnc" id="L93" title="All 2 branches missed.">            if (l.getValue().getTipo() == TipoListaDeReproduccion.POR_DEFECTO) {</span>
<span class="nc" id="L94">                listas.remove(l.getValue().getNombre());</span>
            }
<span class="nc" id="L96">        }</span>

<span class="nc bnc" id="L98" title="All 2 branches missed.">        for (String lista : listas) {</span>
<span class="nc" id="L99">            int nuevoID = ListaDeReproduccion.getNuevoId();</span>
<span class="nc" id="L100">            this.misListas.put(nuevoID, new ListaDeReproduccion(nuevoID, lista, Privacidad.PRIVADO, TipoListaDeReproduccion.POR_DEFECTO, &quot;UNDEFINED&quot;));</span>
<span class="nc" id="L101">        }</span>
<span class="nc" id="L102">    }</span>

    public void agregarComentarioAVideo(int id, DtComentario comentario, Usuario usuario) {
<span class="nc bnc" id="L105" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L106">            this.misVideos.get(id).agregarComentario(comentario, usuario);</span>
        } else {
<span class="nc" id="L108">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L110">    }</span>

    public void agregarComentarioAVideo(int id, int idComentario, DtComentario comentario, Usuario usuario) {
<span class="nc bnc" id="L113" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L114">            this.misVideos.get(id).agregarComentario(idComentario, comentario, usuario);</span>
        } else {
<span class="nc" id="L116">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L118">    }</span>

    public void agregarListaParticular(DtListaDeReproduccion listaReproduccion) {
<span class="nc" id="L121">        int idLdr = ListaDeReproduccion.getNuevoId();</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">        if (listaReproduccion == null){</span>
<span class="nc" id="L123">            throw new RuntimeException(&quot;La lista de reprodccion es null&quot;);</span>
        }
<span class="nc bnc" id="L125" title="All 2 branches missed.">        if (listaReproduccion.getNombre().equals(&quot;&quot;)){</span>
<span class="nc" id="L126">            throw new RuntimeException(&quot;El nombre no puede ser vacio&quot;);</span>
        }
<span class="nc bnc" id="L128" title="All 4 branches missed.">        if (this.privacidad == Privacidad.PRIVADO &amp;&amp; listaReproduccion.getPrivacidad() == Privacidad.PUBLICO){</span>
<span class="nc" id="L129">            throw new RuntimeException(&quot;No se puede agregar una lista de reproduccion publica a un canal privado&quot;);</span>
        }
<span class="nc bnc" id="L131" title="All 2 branches missed.">        if (listaReproduccion.getCategoria().equals(&quot;&quot;)){</span>
<span class="nc" id="L132">            throw new RuntimeException(&quot;La categoria no puede ser vacia&quot;);</span>
        }
        
         // un canal no puede tener dos videos con el mismo nomre
<span class="nc bnc" id="L136" title="All 2 branches missed.">         for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; v : misListas.entrySet()){</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">             if (v.getValue().getNombre().equals(listaReproduccion.getNombre())){</span>
<span class="nc" id="L138">                 throw new RuntimeException(&quot;El canal ya posee una lista de reproduccion con ese nombre&quot;);</span>
             }
<span class="nc" id="L140">         }</span>
         
<span class="nc" id="L142">        ListaDeReproduccion ldr = new ListaDeReproduccion(</span>
                idLdr, 
<span class="nc" id="L144">                listaReproduccion.getNombre(), </span>
<span class="nc" id="L145">                listaReproduccion.getPrivacidad(), </span>
<span class="nc" id="L146">                listaReproduccion.getTipo(), </span>
<span class="nc" id="L147">                listaReproduccion.getCategoria());</span>
<span class="nc" id="L148">        this.misListas.put(idLdr, ldr);</span>
<span class="nc" id="L149">    }</span>

    public void quitarValoracion(int idVideo, String nickname) {
<span class="nc bnc" id="L152" title="All 2 branches missed.">        if (this.misVideos.containsKey(idVideo)) {</span>
<span class="nc" id="L153">            this.misVideos.get(idVideo).quitarValoracion(nickname);</span>
        } else {
<span class="nc" id="L155">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
        
<span class="nc" id="L158">    }</span>

    public void agregarModificarValoracion(int id, DtValoracion valoracion, Usuario usuario) {
<span class="nc bnc" id="L161" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L162">            this.misVideos.get(id).agregarModificarValoracion(valoracion, usuario);</span>
        } else {
<span class="nc" id="L164">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
        
<span class="nc" id="L167">    }</span>

    public void agregarVideo(DtVideo video) {
<span class="nc bnc" id="L170" title="All 2 branches missed.">        if(video== null){</span>
<span class="nc" id="L171">            throw new RuntimeException(&quot;El Datatype del video es null&quot;);</span>
        }
<span class="nc bnc" id="L173" title="All 2 branches missed.">        if (video.getNombre().equals(&quot;&quot;)){</span>
<span class="nc" id="L174">            throw new RuntimeException(&quot;El nombre no puede ser vacio&quot;);</span>
        }
<span class="nc bnc" id="L176" title="All 2 branches missed.">        if(video.getDuracion() == null){</span>
<span class="nc" id="L177">            throw new RuntimeException(&quot;La duracion no puede ser null&quot;);</span>
        }
<span class="nc bnc" id="L179" title="All 2 branches missed.">        if(video.getFechaPublicacion() == null){</span>
<span class="nc" id="L180">            throw new RuntimeException(&quot;La fecha de publicion no puede ser null&quot;);</span>
        }
<span class="nc bnc" id="L182" title="All 2 branches missed.">         if (video.getUrlVideoOriginal().equals(&quot;&quot;)){</span>
<span class="nc" id="L183">            throw new RuntimeException(&quot;La direccion URL no puede ser vacia&quot;);</span>
        }
<span class="nc bnc" id="L185" title="All 2 branches missed.">         if (video.getCategoria().equals(&quot;&quot;)){</span>
<span class="nc" id="L186">            throw new RuntimeException(&quot;La categoría no puede ser vacía&quot;);</span>
        }
        
         // un canal no puede tener dos videos con el mismo nomre
<span class="nc bnc" id="L190" title="All 2 branches missed.">         for (Map.Entry&lt;Integer, Video&gt; v : misVideos.entrySet()){</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">             if (v.getValue().getNombre().equals(video.getNombre())){</span>
<span class="nc" id="L192">                 throw new RuntimeException(&quot;El canal ya posee un video con ese nombre&quot;);</span>
             }
<span class="nc" id="L194">         }</span>
         
<span class="nc" id="L196">        int idVideo = Video.getNuevoId();</span>
<span class="nc" id="L197">        Video vd = new Video(idVideo, </span>
<span class="nc" id="L198">                video.getNombre(), </span>
<span class="nc" id="L199">                video.getDescripcion(), </span>
<span class="nc" id="L200">                video.getDuracion(), </span>
<span class="nc" id="L201">                video.getFechaPublicacion(), </span>
<span class="nc" id="L202">                video.getUrlVideoOriginal(), </span>
<span class="nc" id="L203">                video.getCategoria());</span>
        
        // si el canal es privado, el video debera serlo tambien
        // si el canal es publico, el video sera lo definido en el DataType
<span class="nc bnc" id="L207" title="All 2 branches missed.">         if (this.privacidad == Privacidad.PRIVADO){</span>
<span class="nc" id="L208">             vd.setPrivacidad(Privacidad.PRIVADO);</span>
         }
        
<span class="nc" id="L211">        this.misVideos.put(idVideo, vd);</span>
<span class="nc" id="L212">    }</span>

    public void agregarVideoALista(int id, Video video) {
<span class="nc bnc" id="L215" title="All 2 branches missed.">        if (this.misListas.containsKey(id)) {</span>
<span class="nc" id="L216">            this.misListas.get(id).agregarVideoA(video);</span>
        } else {
<span class="nc" id="L218">            throw new RuntimeException(&quot;La lista no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L220">    }</span>

    public DtCanal getDT() {
<span class="nc" id="L223">        return new DtCanal(this.id, </span>
                this.nombre, 
                this.descripcion, 
                this.privacidad);
    }

    public ArrayList&lt;DtComentario&gt; listarComentariosDeVideo(int id) {
<span class="nc bnc" id="L230" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L231">            return this.misVideos.get(id).listarComentarios();</span>
        } else {
<span class="nc" id="L233">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
    }

    public ArrayList&lt;DtListaDeReproduccion&gt; listarListasDeReproduccion(boolean porDefecto) {
<span class="nc" id="L238">        ArrayList&lt;DtListaDeReproduccion&gt; ret = new ArrayList();</span>
        
<span class="nc bnc" id="L240" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; m : misListas.entrySet()) {</span>
<span class="nc bnc" id="L241" title="All 4 branches missed.">            if(porDefecto &amp;&amp; m.getValue().getTipo()==TipoListaDeReproduccion.PARTICULAR){</span>
<span class="nc" id="L242">                continue;</span>
            }
<span class="nc" id="L244">            ret.add(m.getValue().getDt());</span>
<span class="nc" id="L245">        }</span>

<span class="nc" id="L247">        return ret;</span>
    }

    public ArrayList&lt;DtValoracion&gt; listarValoracionesDeVideo(int id) {
<span class="nc bnc" id="L251" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L252">            return this.misVideos.get(id).listarValoraciones();</span>
        } else {
<span class="nc" id="L254">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
    }

    public ArrayList&lt;DtVideo&gt; listarVideos() {
<span class="nc" id="L259">        ArrayList&lt;DtVideo&gt; ret = new ArrayList();</span>

        // para cada elemento en misVideos
        /**
         * este for no es normal, se declara la variable m que es de tipo
         * Entrada de Map (como un nodo arbol), y autmaticamente la hace avanzar
         * por todas las entradas de la coleccion. De la entrada actual se puede
         * obtener la Key y el Valor almacenado
         */
<span class="nc bnc" id="L268" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, Video&gt; m : misVideos.entrySet()) {</span>
            // hace un getDT y lo agrega a la coleccion de retorno
<span class="nc" id="L270">            ret.add(m.getValue().getDt());</span>
<span class="nc" id="L271">        }</span>
<span class="nc" id="L272">        return ret;</span>
    }

    public ArrayList&lt;DtVideo&gt; listarVideosDeListaDeReproduccion(int id) {
<span class="nc bnc" id="L276" title="All 2 branches missed.">        if (this.misListas.containsKey(id)) {</span>
<span class="nc" id="L277">            return this.misListas.get(id).listarVideos();</span>
        } else {
<span class="nc" id="L279">            throw new RuntimeException(&quot;La lista de reproduccion no pertenece al canal&quot;);</span>
        }
    }

    public void modificar(DtCanal canal) {
<span class="nc bnc" id="L284" title="All 2 branches missed.">        if (canal.getNombre().equals(&quot;&quot;)) {</span>
<span class="nc" id="L285">            throw new RuntimeException(&quot;El nombre no puede ser vacio&quot;);</span>
        }
        
        // Si el canal es publico y se va a cambiar a privado, se deben cambiar a privado todos los videos del canal
<span class="nc bnc" id="L289" title="All 4 branches missed.">        if (this.privacidad == Privacidad.PUBLICO &amp;&amp; canal.getPrivacidad() == Privacidad.PRIVADO){</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">            for (Map.Entry&lt;Integer, Video&gt; m : misVideos.entrySet()) {</span>
<span class="nc" id="L291">                m.getValue().setPrivacidad(Privacidad.PRIVADO);</span>
<span class="nc" id="L292">            }</span>
<span class="nc bnc" id="L293" title="All 2 branches missed.">            for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; m : misListas.entrySet()) {</span>
<span class="nc" id="L294">                m.getValue().setPrivacidad(Privacidad.PRIVADO);</span>
<span class="nc" id="L295">            }</span>
        }
        
<span class="nc" id="L298">        this.nombre = canal.getNombre();</span>
<span class="nc" id="L299">        this.descripcion = canal.getDescripcion();</span>
<span class="nc" id="L300">        this.privacidad = canal.getPrivacidad();</span>
<span class="nc" id="L301">    }</span>

    public void modificarListaDeReproduccion(DtListaDeReproduccion ldr) {
<span class="nc bnc" id="L304" title="All 2 branches missed.">        if (ldr == null) {</span>
<span class="nc" id="L305">            throw new RuntimeException(&quot;El Datatype de la lista de reprodccion es null&quot;);</span>
        }
<span class="nc bnc" id="L307" title="All 2 branches missed.">        if (this.misListas.containsKey(ldr.getId())) {</span>
            
<span class="nc bnc" id="L309" title="All 4 branches missed.">            if (this.privacidad == Privacidad.PRIVADO &amp;&amp; ldr.getPrivacidad() == Privacidad.PUBLICO){</span>
<span class="nc" id="L310">                throw new RuntimeException(&quot;No se puede hacer publica una lista de reproduccion de un canal privado&quot;);</span>
            }
            
<span class="nc" id="L313">            this.misListas.get(ldr.getId()).modificar(ldr);</span>
        } else {
<span class="nc" id="L315">            throw new RuntimeException(&quot;La lista de reproduccion no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L317">    }</span>

    public void modificarVideo(DtVideo video) {
<span class="nc bnc" id="L320" title="All 2 branches missed.">        if(video== null){</span>
<span class="nc" id="L321">            throw new RuntimeException(&quot;El Datatype del video es null&quot;);</span>
        }
        
<span class="nc bnc" id="L324" title="All 2 branches missed.">        if (this.misVideos.containsKey(video.getId())) {</span>
            
<span class="nc bnc" id="L326" title="All 4 branches missed.">            if (this.privacidad == Privacidad.PRIVADO &amp;&amp; video.getPrivacidad() == Privacidad.PUBLICO){</span>
<span class="nc" id="L327">                throw new RuntimeException(&quot;No se puede hacer publico un video de un canal privado&quot;);</span>
            }
            
<span class="nc" id="L330">            this.misVideos.get(video.getId()).modificar(video);</span>
        } else {
<span class="nc" id="L332">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L334">    }</span>
    
    public DtListaDeReproduccion obtenerListaDeReproduccion(int id){
<span class="nc" id="L337">        ListaDeReproduccion ldr = misListas.get(id);</span>
<span class="nc bnc" id="L338" title="All 2 branches missed.">        if (ldr == null){</span>
<span class="nc" id="L339">            throw new RuntimeException(&quot;La lista de reproduccion no pertenece al canal&quot;);</span>
        }else{
<span class="nc" id="L341">            return ldr.getDt();</span>
        }
    }
    
    public ArrayList&lt;DtListaDeReproduccion&gt; obtenerListasEnCategoria(String cat) {
<span class="nc" id="L346">        ArrayList&lt;DtListaDeReproduccion&gt; ret = new ArrayList();</span>

        // para cada elemento en misVideos
        /**
         * este for no es normal, se declara la variable m que es de tipo
         * Entrada de Map (como un nodo arbol), y autmaticamente la hace avanzar
         * por todas las entradas de la coleccion. De la entrada actual se puede
         * obtener la Key y el Valor almacenado
         */
<span class="nc bnc" id="L355" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; m : misListas.entrySet()) {</span>
            // hace un getDT y lo agrega a la coleccion de retorno
<span class="nc bnc" id="L357" title="All 2 branches missed.">            if (m.getValue().getCategoria().equals(cat)) {</span>
<span class="nc" id="L358">                ret.add(m.getValue().getDt());</span>
            }
<span class="nc" id="L360">        }</span>
        
<span class="nc" id="L362">        return ret;</span>
    }

    public DtVideo obtenerDtVideo(int id) {
<span class="nc bnc" id="L366" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L367">            return this.misVideos.get(id).getDt();</span>
        } else {
<span class="nc" id="L369">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
    }

    public Video obtenerVideo(int id) {
<span class="nc bnc" id="L374" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L375">            return this.misVideos.get(id);</span>
        } else {
<span class="nc" id="L377">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
    }

    public ArrayList&lt;DtVideo&gt; obtenerVideosEnCategoria(String cat) {
<span class="nc" id="L382">        ArrayList&lt;DtVideo&gt; ret = new ArrayList();</span>

        // para cada elemento en misVideos
        /**
         * este for no es normal, se declara la variable m que es de tipo
         * Entrada de Map (como un nodo arbol), y autmaticamente la hace avanzar
         * por todas las entradas de la coleccion. De la entrada actual se puede
         * obtener la Key y el Valor almacenado
         */
<span class="nc bnc" id="L391" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, Video&gt; m : misVideos.entrySet()) {</span>
            // hace un getDT y lo agrega a la coleccion de retorno
<span class="nc bnc" id="L393" title="All 2 branches missed.">            if (m.getValue().getCategoria().equals(cat)) {</span>
<span class="nc" id="L394">                ret.add(m.getValue().getDt());</span>
            }
<span class="nc" id="L396">        }</span>
        
<span class="nc" id="L398">        return ret;</span>
    }

    public void quitarVideoDeListaDeReproduccion(int idLista, int idVideo) {
<span class="nc bnc" id="L402" title="All 2 branches missed.">        if (this.misListas.containsKey(idLista)) {</span>
<span class="nc" id="L403">            this.misListas.get(idLista).quitarVideo(idVideo);</span>
        } else {
<span class="nc" id="L405">            throw new RuntimeException(&quot;La lista de reproduccion no pertenece al canal&quot;);</span>
        }
<span class="nc" id="L407">    }</span>

    public boolean validarListaParticular(String nombreLista) {
<span class="nc bnc" id="L410" title="All 2 branches missed.">        for (Map.Entry&lt;Integer, ListaDeReproduccion&gt; l : misListas.entrySet()) {</span>
<span class="nc bnc" id="L411" title="All 4 branches missed.">            if (l.getValue().getTipo() == TipoListaDeReproduccion.PARTICULAR &amp;&amp; l.getValue().getNombre().equals(nombreLista)){</span>
<span class="nc" id="L412">                return true;</span>
            }
<span class="nc" id="L414">        }</span>
<span class="nc" id="L415">        return false;</span>
    }

    public DtValoracion obtenerValoracion(int id, String nickname) {
<span class="nc bnc" id="L419" title="All 2 branches missed.">        if (this.misVideos.containsKey(id)) {</span>
<span class="nc" id="L420">            return this.misVideos.get(id).obtenerValoracion(nickname);</span>
        } else {
<span class="nc" id="L422">            throw new RuntimeException(&quot;El video no pertenece al canal&quot;);</span>
        }
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>